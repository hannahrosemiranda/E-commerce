<app-header></app-header>
<ng-container *ngIf="products.length != 0">
  <div class="container">
    <h1>Shopping Bag</h1>
    <div class="card-table">
      <div class="card-product">
        <table class="table table-bordered">
          <thead>
            <tr>
              <th>Item No.</th>
              <th>Product Name</th>
              <th>Product Image</th>
              <th>Price</th>
              <th>Quantity</th>
              <th>Subtotal</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let product of products; let i = index">
              <td>{{ i + 1 }}</td>
              <td>{{ product.name }}</td>
              <td><img src="{{ product.imageUrl }}" alt="" /></td>
              <td>{{ product.price }}</td>

              <td>
                <input
                  type="number"
                  [(ngModel)]="product.quantity"
                  (input)="calculateTotal()"
                />
              </td>
              <td>{{ getProductTotal(product) }}</td>

              <td>
                <button class="btn btn-danger" (click)="delete(product)">
                  Delete
                </button>
              </td>
            </tr>
          </tbody>
        </table>

        <div class="buttons">
          <button class="btn btn-danger" (click)="emptyCart()">
            Empty Cart
          </button>

          <button routerLink="/products" class="btn btn-success">
            Shop More
          </button>

          <button class="btn btn-warning" (click)="checkOut()">
            Check Out
          </button>
          <p>
            <strong>Total: {{ grandTotal }}</strong>
          </p>
        </div>

        <!-- <table class="table table-bordered">
                  <tbody>
                    <tr>
                      <td colspan="4"></td>
                      <td>
                        <button class="btn btn-danger" (click)="emptyCart()">
                          Empty Cart
                        </button>
                      </td>
                      <td>
                        <button routerLink="/products" class="btn btn-success">
                          Shop More
                        </button>
                      </td>
                      <td>
                        <button class="btn btn-warning" (click)="checkOut()">
                          Check Out
                        </button>
                      </td>
                      <td colspan="2">
                        <strong>Grand Total: {{ grandTotal }}</strong>
                      </td>
                    </tr>
                  </tbody>
                </table> -->
      </div>
    </div>
  </div>
</ng-container>

<!-- empty cart -->
<ng-container *ngIf="products.length == 0">
  <div class="center">
    <h4>Your shopping bag is empty!</h4>
    <button routerLink="/products" class="btn btn-dark">Shop Now</button>
  </div>
</ng-container>
